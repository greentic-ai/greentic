id: testing_flow
title: test different aspects
description: >
  This flow tests different aspects
channels:
  - ws
nodes:
  ws_in:
    channel: ws
    in: true
  ask_location_and_days:
    qa:
      # No separate welcomeâ€”first question is our â€œgreeting + ask locationâ€
      welcome_template: "Hi there, I am the weather bot. Let's get your weather forecast."
      questions:
        - id: q_location
          prompt: "ğŸ‘‰ What location would you like a forecast for?"
          answer_type: text
          state_key: q
          max_words: 3
        - id: q_days
          prompt: "ğŸ‘‰ Over how many days? (enter a number)"
          answer_type: number
          state_key: days
          max_words: 2
          validate:
            range:
              min: 0.0
              max: 7.0
      fallback_agent:
        type: ollama
        model: llama3.2:1b
        # task: you can repeat the same instruction you used before
        task: |
          Extract the location the user wants a weather forecast and if available the days.
          The location is added to state as 'q' and the days as 'days'. 
          Default to 3 days if not specified. 
      routing:
        - to: debug_process
  debug_process:
    debug:
        print: false
  ws_out:
    channel: ws
    out: true
connections:
  ws_in:
    - ask_location_and_days
  ask_location_and_days:
    - debug_process
  debug_process:
    - ws_out
    