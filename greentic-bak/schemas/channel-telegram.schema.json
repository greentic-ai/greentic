{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "ChannelCapabilities",
  "type": "object",
  "properties": {
    "name": {
      "type": "string"
    },
    "supports_sending": {
      "type": "boolean"
    },
    "supports_receiving": {
      "type": "boolean"
    },
    "supports_text": {
      "type": "boolean"
    },
    "supports_files": {
      "type": "boolean"
    },
    "supports_media": {
      "type": "boolean"
    },
    "supports_events": {
      "type": "boolean"
    },
    "supports_typing": {
      "type": "boolean"
    },
    "supports_routing": {
      "type": "boolean"
    },
    "supports_threading": {
      "type": "boolean"
    },
    "supports_reactions": {
      "type": "boolean"
    },
    "supports_call": {
      "type": "boolean"
    },
    "supports_buttons": {
      "type": "boolean"
    },
    "supports_links": {
      "type": "boolean"
    },
    "supports_custom_payloads": {
      "type": "boolean"
    },
    "supported_events": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/EventType"
      }
    }
  },
  "required": [
    "name",
    "supports_sending",
    "supports_receiving",
    "supports_text",
    "supports_files",
    "supports_media",
    "supports_events",
    "supports_typing",
    "supports_routing",
    "supports_threading",
    "supports_reactions",
    "supports_call",
    "supports_buttons",
    "supports_links",
    "supports_custom_payloads",
    "supported_events"
  ],
  "$defs": {
    "EventType": {
      "type": "object",
      "properties": {
        "event_type": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "payload_schema": true
      },
      "required": [
        "event_type",
        "description"
      ]
    }
  },
  "default": {
    "name": "telegram",
    "supports_sending": true,
    "supports_receiving": true,
    "supports_text": true,
    "supports_files": true,
    "supports_media": true,
    "supports_events": true,
    "supports_typing": true,
    "supports_routing": true,
    "supports_threading": false,
    "supports_reactions": false,
    "supports_call": false,
    "supports_buttons": false,
    "supports_links": true,
    "supports_custom_payloads": false,
    "supported_events": [
      {
        "event_type": "UserJoined",
        "description": "Event sent when a user connects",
        "payload_schema": {
          "properties": {
            "user_id": {
              "description": "A channel specific and potentially only session unique user_id",
              "format": "channel specific unique user_id",
              "type": "string"
            }
          },
          "required": [
            "user_id"
          ],
          "type": "object"
        }
      },
      {
        "event_type": "UserLeft",
        "description": "Event sent when a user disconnects",
        "payload_schema": {
          "properties": {
            "user_id": {
              "description": "A channel specific and potentially only session unique user_id",
              "format": "channel specific unique user_id",
              "type": "string"
            }
          },
          "required": [
            "user_id"
          ],
          "type": "object"
        }
      },
      {
        "event_type": "ContactShared",
        "description": "User shared a contact",
        "payload_schema": {
          "properties": {
            "name": {
              "type": "string"
            },
            "phone_number": {
              "type": "string"
            }
          },
          "required": [
            "name",
            "phone_number"
          ],
          "type": "object"
        }
      },
      {
        "event_type": "LocationShared",
        "description": "User shared a location",
        "payload_schema": {
          "properties": {
            "latitude": {
              "type": "number"
            },
            "longitude": {
              "type": "number"
            }
          },
          "required": [
            "latitude",
            "longitude"
          ],
          "type": "object"
        }
      },
      {
        "event_type": "VenueShared",
        "description": "User shared a venue",
        "payload_schema": {
          "properties": {
            "address": {
              "type": "string"
            },
            "location": {
              "properties": {
                "lat": {
                  "type": "number"
                },
                "lon": {
                  "type": "number"
                }
              },
              "required": [
                "lat",
                "lon"
              ],
              "type": "object"
            },
            "title": {
              "type": "string"
            }
          },
          "required": [
            "title",
            "address",
            "location"
          ],
          "type": "object"
        }
      }
    ]
  }
}